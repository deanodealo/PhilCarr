<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Phil Carr Quiz</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<div id="overlay">
  <button id="letsPlayBtn">Let's Play!</button>
</div>

<audio id="welcomeSound" src="sound3.wav" preload="auto"></audio>


  <div class="container">
    <img src="images/phil1.jpg" alt="Phil Carr Logo" class="logo" />
    <h1>Welcome to Phil Carr!</h1>

    <div class="rules">
      <strong>How to Play:</strong><br />
      Five Rounds. Five questions per round<br />
      Bottom after each round spins the Wheel<br />
      Each team has 1x Phil Carr<br /><br />
      Good luck!
    </div>

    <input type="text" id="playerName" placeholder="Enter Your Name" />
    <button id="continueBtn">Continue</button>

    <div class="music-btn">
      ðŸŽµ Music Coming Soon!
    </div>
  </div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

  // Your Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyAZxLjMZTYTOLBunk56HqyHkLyPJsQUtjA",
    authDomain: "philcarr-20ac0.firebaseapp.com",
    projectId: "philcarr-20ac0",
    storageBucket: "philcarr-20ac0.firebasestorage.app",
    messagingSenderId: "770728636073",
    appId: "1:770728636073:web:d2bddbee786446c37d03b8",
    measurementId: "G-XRCH682RNE"
  };

  // Initialize Firebase & Firestore
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  document.getElementById('continueBtn').addEventListener('click', async function () {
    const playerName = document.getElementById('playerName').value.trim();

    if (playerName === '') {
      alert('Please enter your name!');
      return;
    }

    try {
      // Save player to Firestore with initial score 0 and round 1
      await setDoc(doc(db, "players", playerName), {
        name: playerName,
        score: 0,
        currentRound: 1,
        timestamp: new Date()
      });

      localStorage.setItem('playerName', playerName);
      window.location.href = 'round1.html';

    } catch (error) {
      alert("Error saving player: " + error.message);
      console.error(error);
    }
  });

  window.addEventListener('load', () => {
    const overlay = document.getElementById('overlay');
    const letsPlayBtn = document.getElementById('letsPlayBtn');
    const welcomeSound = document.getElementById('welcomeSound');

    letsPlayBtn.addEventListener('click', () => {
      // Play sound
      welcomeSound.currentTime = 0;
      welcomeSound.play();

      // Fade out overlay
      overlay.style.transition = 'opacity 0.5s ease';
      overlay.style.opacity = '0';

      // After fade, remove overlay from DOM
      setTimeout(() => {
        overlay.style.display = 'none';
      }, 500);
    });
  });
</script>



</body>
</html>


